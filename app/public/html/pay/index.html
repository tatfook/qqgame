<html>
<head>
	<title>Hacker News</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="创意空间">
	<meta name="author" content="xiaoyao">
	
	<!--<script type="text/javascript" src="http://ossweb-img.qq.com/images/js/jquery/jquery-1.7.1.min.js"></script>-->
	<!--<script type="text/javascript" src="http://minigame.qq.com/plat/social_hall/js/jquery.pm.js"></script>-->
	<!--<script type="text/javascript" src="http://minigame.qq.com/plat/social_hall/app_frame/qqgamelib.js?rev=8581"></script>-->

	<script type="text/javascript" charset="utf-8" src="http://fusion.qq.com/fusion_loader?appid=1106994032&platform=<%= platform %>"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17-beta.0/vue.min.js"></script></script>
	<script type="text/javascript" src="public/js/index.js"></script>
</head>
<body>
<div id=="app">
</div>
</body>
<script>


function fusion2DialogBuy() {
	fusion2.dialog.buy({
		// 可选。仅当接入“道具寄售”模式的应用使用游戏币快捷支付功能时，必须传该参数。取值固定为“true”。
		// 其他支付场景不需要传入该参数。
		//disturb : true,

		// 必须。 表示购买物品的url参数，url_params是调用Q点直购接口v3/pay/buy_goods或道具寄售接口v3/pay/exchange_goods接口返回的参数。

		param : "url_param",


		// 必须。表示是否使用沙箱测试环境。应用发布前，请务必注释掉该行。

		// sandbox值为布尔型。true：使用； false或不指定：不使用。（沙箱必须传sandbox : true，现网传sandbox : false或者注释）

		sandbox : true,


		//可选。前台使用的上下文变量，用于回调时识别来源。

		context : "context",


		//可选。用户购买成功时的回调方法，其中opt.context为上述context参数。如果用户购买成功，则立即回调JS中的onSuccess，当用户关闭对话框时再回调onClose。

		onSuccess : function (opt) { },


		//可选。用户取消购买时的回调方法，其中opt.context为上述context参数。如果用户购买失败或没有购买，关闭对话框时将先回调onCancel再回调onClose。

		onCancel : function (opt) { },


		//可选。如果在实现Q点直购功能时调用了发货通知接口，即需要实现本方法，其中opt.context为上述context参数。如果发货超时，则立即回调onSend。

		onSend : function(opt) { },


		//可选。对话框关闭时的回调方法，主要用于对话框关闭后进行UI方面的调整，onSuccess和onCancel则用于应用逻辑的处理，避免过度耦合。

		onClose : function (opt) { }
	});

}

function GameAPIBuyBoxShow() {
	GameAPI.BuyBox.show(qqparams.appid, "data.url_params", 1 ,"购买道具",function(){alert('close')},function(){alert('succ')});
}

GameAPIBuyBoxShow();
</script>
</html>
